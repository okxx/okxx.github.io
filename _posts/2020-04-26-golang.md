<!-- ---
layout: post
title: golang atomic
categories: [golang]
tags: [golang]
sidebar: []
--- -->


### Golang
```Go

    1. new 和 make 的区别?
        new 返回值是指向类型的指针，入参只有一个Type参数，初始化类型的零值，返回值是Type的指针。
        make 返回值是Type类型值，用来初始化 slice，map，channel，

    2. channel 有缓冲区和无缓冲区的区别?
        无缓冲区是同步，发送者和接收者必须是已就绪， 有缓冲区是异步。

    3. 值传递和指针传递有什么区别?
        值传递会创建一个新的副本将其传递给所调用的函数。
        指针传递是传递参数的内存地址。
        （需要改变入参本身的时候需要使用指针传递，否则值传递。
        另外函数内部返回内存地址，则会出现内存逃逸。）
        
        内存逃逸的情况：
            1.发送指针或带有指针的值到channel中。（编译器是无法知道那个goroutine会接受channel数据。所以会分配到堆上）
            2.切片上存储指针或带指针的值。
            3. Slice 的背后数组被重新分配了
            4.在 interface 类型上调用方法

    4. reids如何实现分布式锁 (set key true NX px 60000)
        1.setnx死锁原因

    5. map元素key进行排序
        1.遍历map提取key到slice (ss)中，使用sort.Sort( sort.IntSlice(ss) ) 进行排序




```
